number: 1
title: Posting summary
description: |
  Given a date, find all Messages created before that date.
  Group them by a 3-level grouping\:

  1. by year of creation
  2. for each year, group into message types, i.e., Posts or Comments
  3. for each year-type group, split into four groups based on length of their content
      * 0 <= length < 40\: `short`
      * 40 <= length < 80\: `one liner`
      * 80 <= length < 160\: `tweet`
      * 160 <= length\: `long`

group:
  - year
  - message type
  - length group
parameters:
  - name: date
    type: Date
result:
  - name: message.year
    type: 32bitInteger
  - name: message type
    type: String
  - name: length category
    type: String
  - name: message count
    type: 32bitInteger
  - name: average message length
    type: 32bitInteger
  - name: sum message length
    type: 32bitInteger
  - name: per messages
    type: 32bitFloat
sort:
  - name: year
    direction: desc
  - name: message type
    direction: asc
  - name: size category
    direction: asc
choke_points: [1.2, 3.2, 4.1]
